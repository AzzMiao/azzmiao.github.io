"use strict";(self["webpackChunkpets_vue"]=self["webpackChunkpets_vue"]||[]).push([[296],{4296:function(t,e,a){a.r(e),a.d(e,{default:function(){return h}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"info-container"},[e("el-row",[e("el-col",{attrs:{span:22}},[e("h1",{staticClass:"adopt-title"},[t._v(t._s(t.adopt.title))])])],1),e("el-row",[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"creator"},[e("el-avatar",{attrs:{size:60,src:t.adopt.creator.avatar}}),e("div",{staticClass:"creator-name"},[t._v(" by "),e("a",[t._v(t._s(t.adopt.creator.nickname))])])],1)])],1),e("el-row",{staticStyle:{"margin-bottom":"20px"}},[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"creator-time"},[e("i",{staticClass:"el-icon-time",staticStyle:{"font-size":"18px"}}),e("div",{staticClass:"time"},[t._v(t._s(t.adopt.createTime))])])])],1),e("el-row",[e("el-col",{attrs:{span:8}},[e("div",{staticStyle:{width:"100%",height:"345px",overflow:"hidden"}},[t.adopt.cover?e("el-image",{staticStyle:{width:"100%"},attrs:{src:t.adopt.cover,fit:"cover"}}):t._e()],1)]),e("el-col",{attrs:{span:12}},[e("el-row",{staticClass:"about-title",staticStyle:{"margin-left":"80px","margin-bottom":"20px"}},[e("el-col",{attrs:{span:6}},[e("h2",[t._v("宠物基本信息")])])],1),e("div",[e("el-row",{staticClass:"about-info-row",staticStyle:{"margin-left":"80px"}},[e("el-col",{attrs:{span:6}},[e("h3",[t._v("名称：")])]),e("el-col",{attrs:{span:16}},[e("p",[t._v(t._s(t.adopt.title))])])],1),e("el-row",{staticClass:"about-info-row",staticStyle:{"margin-left":"80px"}},[e("el-col",{attrs:{span:6}},[e("h3",[t._v("种类：")])]),e("el-col",{attrs:{span:16}},[e("p",[t._v(t._s(t.adopt.gender?t.adopt.petType+"（公）":t.adopt.petType+"（母）"))])])],1),e("el-row",{staticClass:"about-info-row",staticStyle:{"margin-left":"80px"}},[e("el-col",{attrs:{span:6}},[e("h3",[t._v("年龄：")])]),e("el-col",{attrs:{span:16}},[e("p",[t._v(t._s("2年4个月"))])])],1),e("el-row",{staticClass:"about-info-row",staticStyle:{"margin-left":"80px"}},[e("el-col",{attrs:{span:6}},[e("h3",[t._v("地址：")])]),e("el-col",{attrs:{span:16}},[e("p",[t._v(t._s(t.adopt.region))])])],1),e("el-row",{staticClass:"about-info-row",staticStyle:{"margin-left":"80px"}},[e("el-col",{attrs:{span:6}},[e("h3",[t._v("健康信息：")])]),e("el-col",{attrs:{span:16}},[e("el-tag",{staticStyle:{"margin-right":"6px"},attrs:{size:"small",type:"success"}},[t._v("有疫苗")]),e("el-tag",{staticStyle:{"margin-right":"6px"},attrs:{size:"small",type:"warning"}},[t._v("已驱虫")]),e("el-tag",{attrs:{size:"small",type:"danger"}},[t._v("已绝育")])],1)],1)],1),e("div",{staticStyle:{"margin-top":"30px","margin-left":"80px"}},[e("el-button",{staticClass:"adoptBtn",staticStyle:{"background-color":"#d5b48e","border-color":"#C2A380"},attrs:{type:"primary",round:""},on:{click:t.showAdoptForm}},[t._v("申请领养")]),e("el-button",{attrs:{type:"info",plain:"",round:""}},[t._v("点击收藏")])],1)],1)],1),e("div",{staticClass:"about"},[e("el-row",[e("el-col",{attrs:{span:14}},[e("el-row",{staticClass:"about-title"},[e("el-col",{attrs:{span:24}},[e("h2",[t._v("关于 "+t._s(t.adopt.title))])])],1),t._l(t.adopt.about,(function(a,s){return e("el-row",{key:s,staticClass:"about-info-row"},[e("el-col",{attrs:{span:8}},[e("h3",[t._v(t._s(a.name))])]),e("el-col",{attrs:{span:16}},[e("p",[t._v(t._s(a.value))])])],1)}))],2),e("el-col",{attrs:{span:7}},[e("div",{staticClass:"col-md-4 about-colorbar"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-11 col-md-10",attrs:{id:"rate-wrap"}},[e("h2",{staticClass:"mobmid"},[t._v("宠物属性 ")]),t._l(t.rateList,(function(a,s){return e("div",{key:s},[e("p",[t._v(t._s(a.name))]),e("div",{staticClass:"progress",attrs:{slot:"reference"},on:{click:function(e){return t.rateShow(s)}},slot:"reference"},[a.isShow?e("el-rate",{staticClass:"rate-mark-row",attrs:{max:10},on:{change:function(e){return t.markedRate(s)}},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"item.value"}}):t._e(),e("div",{class:"progress-bar progress-bar-"+s,style:{width:10*a.rate+"%"},attrs:{role:"progressbar","aria-valuenow":"65","aria-valuemin":"0","aria-valuemax":"100"}},[e("span",{staticClass:"sr-only"},[t._v(t._s(10*a.rate)+" % ")])]),e("i",{staticClass:"el-icon-check mainright",staticStyle:{"line-height":"20px","margin-right":"12px"}})],1)])}))],2)])])])],1)],1),e("el-dialog",{attrs:{title:"填写申请领养表单",visible:t.isShowAdoptForm,width:"32%",top:"10vh",center:""},on:{"update:visible":function(e){t.isShowAdoptForm=e}}},[e("el-form",{ref:"ruleForm",attrs:{model:t.adoptForm,rules:t.rules,"label-width":"100px"}},[e("el-row",{staticStyle:{"margin-top":"10px"}},[e("el-col",{attrs:{span:22}},[e("el-row",[e("el-col",{attrs:{span:20}},[e("el-form-item",{staticClass:"topMargin",attrs:{label:"姓名：",prop:"name"}},[e("el-input",{model:{value:t.adoptForm.name,callback:function(e){t.$set(t.adoptForm,"name",e)},expression:"adoptForm.name"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:20}},[e("el-form-item",{staticClass:"topMargin",attrs:{label:"电话：",prop:"phone"}},[e("el-input",{model:{value:t.adoptForm.phone,callback:function(e){t.$set(t.adoptForm,"phone",e)},expression:"adoptForm.phone"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:20}},[e("el-form-item",{staticClass:"topMargin",attrs:{label:"微信："}},[e("el-input",{model:{value:t.adoptForm.wechat,callback:function(e){t.$set(t.adoptForm,"wechat",e)},expression:"adoptForm.wechat"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:20}},[e("el-form-item",{staticClass:"topMargin",attrs:{label:"QQ："}},[e("el-input",{model:{value:t.adoptForm.qq,callback:function(e){t.$set(t.adoptForm,"qq",e)},expression:"adoptForm.qq"}})],1)],1)],1),e("el-form-item",{staticClass:"topMargin",attrs:{label:"现居地：",prop:"region"}},[e("el-cascader",{attrs:{size:"large",options:t.options,props:{expandTrigger:"hover"}},on:{change:t.regionChange},model:{value:t.selectedOptions,callback:function(e){t.selectedOptions=e},expression:"selectedOptions"}})],1),e("el-form-item",{staticClass:"topMargin",attrs:{label:"描述：",prop:"description"}},[e("el-input",{attrs:{type:"textarea",placeholder:"描述寄养环境，以及家中宠物情况",maxlength:"200",rows:5,"show-word-limit":""},model:{value:t.adoptForm.description,callback:function(e){t.$set(t.adoptForm,"description",e)},expression:"adoptForm.description"}})],1)],1)],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:t.submitAdpotForm}},[t._v("提 交")]),e("el-button",{on:{click:function(e){t.isShowAdoptForm=!1}}},[t._v("取 消")])],1)],1),"JSON"==this.adopt.contentType?e("div",{staticClass:"detail"},[e("el-row",{staticClass:"detail-title"},[e("el-col",{attrs:{span:20}},[e("h1",[t._v("detail")])])],1),t._l(t.adopt.content,(function(a,s,o){return e("el-row",{key:o,staticClass:"detail-info-row"},[e("el-col",{attrs:{span:22}},[e("h2",{staticClass:"time"},[t._v(t._s(s))]),e("p",[t._v(t._s(a))])])],1)}))],2):t._e(),"HTML"==this.adopt.contentType?e("div",{staticClass:"detail"},[e("el-row",{staticClass:"detail-info-row"},[e("el-col",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:this.adopt.content,expression:"this.adopt.content"}],staticClass:"detail-col",attrs:{span:22}})],1)],1):t._e(),e("div",{staticClass:"btn-warp"},[t.isCollection?t._e():e("el-button",{attrs:{plain:"",icon:"el-icon-star-off"},on:{click:function(e){return t.adoptCollection(!0)}}},[t._v("未收藏")]),t.isCollection?e("el-button",{attrs:{plain:"",icon:"el-icon-star-on"},on:{click:function(e){return t.adoptCollection(!1)}}},[t._v("已收藏")]):t._e(),e("el-button",{attrs:{plain:"",icon:"el-icon-chat-dot-round"}},[t._v("评论")]),e("el-button",{attrs:{plain:"",icon:"el-icon-edit-outline"}},[t._v("反馈")])],1),e("el-empty",{attrs:{description:"作者其他百科"}}),e("el-empty",{attrs:{description:"相关推荐"}})],1)},o=[],r=a(54),i=a(2315),l=a(9417),n=a(227),p=a(7087),c={components:{BootBar:i.Z},props:{},data(){return{isCollection:!1,adopt:{id:"1712657059792601088",title:"苏格兰折耳猫",region:"北京市,市辖区,东城区",petType:"cat",cover:"http://s1osmcysm.hn-bkt.clouddn.com/adopt-cover/7/15/b47d82fe-3311-4b79-9a4a-8d7a1233787c.jpg",description:"The Ewokian is a designer dog breed developed by crossing two toy dogs, the Havanese and the Pomeranian. Their teddy-bear look charms everybody!",about:[{name:"Height",value:"12-14 inches"},{name:"Weight",value:"7-17 lb"},{name:"Physique",value:"Sturdy, big bodied cats"},{name:"Lifespan",value:"8-10 years"},{name:"Best Suited For",value:"Families and singles with or without children and pets"},{name:"Temperament",value:"Calm, easy going, adaptable, affectionate"},{name:"Comparable Breeds",value:"British Longhair, Ragamuffin"}],content:'<p><span style="color: rgb(51, 51, 51);">❤️最大特点是性格好，来家里的孩子都喜欢。</span></p><p><span style="color: rgb(51, 51, 51);">✅女猫6岁从未咬过人</span></p><p><span style="color: rgb(51, 51, 51);">✅疫苗接种</span></p><p><span style="color: rgb(51, 51, 51);">✅宠物驱虫</span></p><p><span style="color: rgb(51, 51, 51);">✅从0岁养到6岁，没换过主人</span></p><p><span style="color: rgb(51, 51, 51);">✅已绝育不吃植物，一般不和人睡，如果睡就是脚底下，不去床头胆小比较小，但喜欢找人玩，不一定适合和其他宠物同居；</span></p><p><span style="color: rgb(51, 51, 51);">要看是否合得来由于工作原因陪猫玩的时间不够了，希望她能快乐点有心人可以私信沟通照片收养人真心爱猫，有长居住所，懂得如何养猫，给好心收养人赠送，希望对她好</span></p><p><span style="color: rgb(51, 51, 51);">✅自动喂粮器</span></p><p><span style="color: rgb(51, 51, 51);">✅电动饮水器</span></p><p><span style="color: rgb(51, 51, 51);">✅电动猫盆子</span></p>',contentType:"HTML",createTime:"2023-10-13T15:08:35",updateTime:null,adoptState:"UN_ADOPTED",isDewormed:!0,isVaccinated:!0,isSterilized:!0,gender:!0,creator:{id:"1001",nickname:"AzMiao",avatar:"http://s1osmcysm.hn-bkt.clouddn.com/Avatar/15/12/f44b257f-c591-43f7-b170-fda675f2b6a3.jpg"}},rateList:[{name:"kind",rate:"4.00",markCount:1,value:null,isMarked:!1,isShow:!1},{name:"vitality",rate:"6.00",markCount:1,value:null,isMarked:!1,isShow:!1},{name:"independent",rate:"5.00",markCount:1,value:null,isMarked:!1,isShow:!1},{name:"iq",rate:"4.00",markCount:1,value:null,isMarked:!1,isShow:!1}],isShowAdoptForm:!1,options:r.eB,selectedOptions:[],adoptForm:{adoptId:"",region:"",name:"",phone:"",qq:"",wechat:"",description:""},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:30,message:"长度在 2 到 30 个字符",trigger:"blur"}],phone:[{required:!0,message:"请输入电话号码",trigger:"blur"}],region:[{required:!0,message:"请选择现居地",trigger:"change"}],description:[{required:!0,message:"请输入领养环境",trigger:"blur"}]}}},watch:{},computed:{},created(){},mounted(){this.adopt.id=this.$route.params.adoptId,this.getAdoptData()},methods:{showAdoptForm(){this.isShowAdoptForm=!0},regionChange(){this.adoptForm.region="";for(let t=0;t<this.selectedOptions.length;t++)this.adoptForm.region+=r.Se[this.selectedOptions[t]],t<this.selectedOptions.length-1&&(this.adoptForm.region+=",")},submitAdpotForm(){this.$refs.ruleForm.validate((async t=>{if(!t)return this.$message.error("请完善领养信息"),!1;this.adoptForm.adoptId=this.adopt.id,l.ZH(this.adoptForm).then((t=>{t.success?(this.$message.success("申请成功，预计1个工作日内答复"),this.isShowAdoptForm=!1):this.$message.error(t.message)}))}))},adoptCollection(t){let e={adoptId:this.adopt.id};t?l.adoptCollection(e).then((t=>{t.success?(this.$message.success(t.result),this.getAdoptCollection()):this.$message.error(t.message)})):l.adoptUnCollection(e).then((t=>{t.success?(this.$message.success(t.result),this.getAdoptCollection()):this.$message.error(t.message)}))},getAdoptData(){l.Zj(this.adopt.id).then((t=>{t.success?(this.adopt=t.result,this.adopt.about=JSON.parse(t.result.about)):this.$message.error(t.message)})),this.getWikiRate()},getAdoptCollection(){if(void 0!=p.Z.getItem("userInfo")){let t={adoptId:this.adopt.id};l.getAdoptCollectionByAdoptId(t).then((t=>{t.success?this.isCollection=t.result:this.$message.error(t.message)}))}},getWikiRate(){n.W_(this.adopt.id).then((t=>{t.success?this.rateList=t.result:this.$message.error(t.message)}))},markedRate(t){if(void 0!=p.Z.getItem("userInfo")){let e={adoptId:this.adopt.id,name:this.adopt.rateList[t].name,value:this.adopt.rateList[t].value};l.markedRate(e).then((t=>{t.success?this.$message.success("评分成功"):this.$message.error(t.message)}))}else this.$message.error("用户未登录"),this.$store.state.login.loginPageShow=!0},rateShow(t){this.adopt.rateList[t].isShow=!0},rateDisShow(t){console.log("Leave"+t),this.adopt.rateList[t].isShow=!1}}},d=c,m=a(1001),u=(0,m.Z)(d,s,o,!1,null,"5693a353",null),h=u.exports},227:function(t,e,a){a.d(e,{W_:function(){return l},aJ:function(){return i},k9:function(){return o},lg:function(){return r}});var s=a(3274);function o(t){return(0,s.ZP)({url:"/rate/my/rate",method:s.n$.PUT,needToken:!0,params:t,headers:{"Content-Type":"application/json"}})}function r(t){return(0,s.ZP)({url:`/rate/wiki/${t}`,method:s.n$.GET,needToken:!1,headers:{"Content-Type":"application/json"}})}function i(t){return(0,s.ZP)({url:`/rate/my/rate/${t}`,method:s.n$.GET,needToken:!0,headers:{"Content-Type":"application/json"}})}function l(t){return(0,s.ZP)({url:`/rate/adopt/${t}`,method:s.n$.GET,needToken:!1,headers:{"Content-Type":"application/json"}})}}}]);
//# sourceMappingURL=296.bb652505.js.map